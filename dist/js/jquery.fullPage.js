!function(e){e.fn.fullpage=function(i){function n(){return function(i){var i=window.event||i,n=Math.max(-1,Math.min(1,i.wheelDelta||-i.detail));return f||(n<0?e.fn.fullpage.moveSlideDown():e.fn.fullpage.moveSlideUp()),!1}}function a(n){f=!0,"undefined"!=typeof n.data("anchor")?location.hash=n.data("anchor"):location.hash="",dest=n.position(),dtop=null!=dest?dest.top:null,e("#superContainer").animate({top:-dtop},i.scrollingSpeed,i.easing,function(){f=!1});var a=n.attr("data-anchor");c=a,l(a),r(a)}function t(){var i=window.location.hash.replace("#","");if(i){var n=e('[data-anchor="'+i+'"]');n.addClass("active").siblings().removeClass("active"),a(n)}}function o(){var n=e(window).width(),a=e(window).height();i.resize&&s(a,n),e(".section").each(function(){e(this).css("height",a+"px");var n=e(this).find(".slides");if(n.length>0){var t=n.find(".slide.active").position();n.animate({scrollLeft:t.left},i.scrollingSpeed)}});var t=e(".section.active").position();d?e("html, body").animate({scrollTop:t.top},i.scrollingSpeed,i.easing):e("#superContainer").animate({top:-t.top},i.scrollingSpeed,i.easing)}function s(i,n){var a=825,t=i;if(i<825){var o=100*t/a,s=o.toFixed(2);e("img").each(function(){var i=(80*o/100).toFixed(2);e(this).css("width",i+"%")})}else e("img").each(function(){e(this).css("width","")});if(i<825||n<900){n<900&&(t=n,a=900);var o=100*t/a,s=o.toFixed(2);e("body").css("font-size",s+"%")}else e("body").css("font-size","100%")}function r(n){i.navigation&&(e("#fullPage-nav").find(".active").removeClass("active"),e("#fullPage-nav").find('a[href="#'+n+'"]').addClass("active"))}function l(n){i.menu&&(e(i.menu).find(".active").removeClass("active"),e(i.menu).find('[data-menuanchor="'+n+'"]').addClass("active"))}var c,i=e.extend({verticalCentered:!0,resize:!0,slidesColor:[],anchors:[],scrollingSpeed:700,easing:"easeInQuart",menu:!1,navigation:!1,navigationPosition:"right",navigationColor:"#000",controlArrowColor:"#fff"},i),d=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry)/),v=(e(window).width(),e(window).height()),f=!1;if(d||e("html, body").css({overflow:"hidden",height:"100%"}),i.verticalCentered&&(e(".section").addClass("table"),e(".section").wrapInner('<div class="tableCell" />')),e("body").wrapInner('<div id="superContainer" />'),i.navigation){e("body").append('<div id="fullPage-nav"><ul></ul></div>');var h=e("#fullPage-nav");h.css("color",i.navigationColor),"right"==i.navigationPosition?h.css("right","17px"):h.css("left","17px")}e(".section").each(function(n){var a=e(this).find(".slide"),t=a.length;if(e(this).css("height",v+"px"),"undefined"!=typeof i.slidesColor[n]&&e(this).css("background-color",i.slidesColor[n]),"undefined"!=typeof i.anchors[n]&&e(this).attr("data-anchor",i.anchors[n]),i.navigation&&e("#fullPage-nav").find("ul").append('<li><a href="#'+i.anchors[n]+'"><span></span></a></li>'),t>0){var o=100*t,s=100/t;a.wrapAll('<div class="slidesContainer" />'),a.parent().wrap('<div class="slides" />'),e(this).find(".slidesContainer").css("width",o+"%"),e(this).find(".slides").after('<div class="controlArrow prev"></div><div class="controlArrow next"></div>'),e(".controlArrow.next").css("border-color","transparent transparent transparent "+i.controlArrowColor),e(".controlArrow.prev").css("border-color","transparent "+i.controlArrowColor+" transparent transparent"),a.each(function(){e(this).css("width",s+"%")})}}).promise().done(function(){t()});var u={};if(u=document,u.addEventListener?(u.addEventListener("mousewheel",n(),!1),u.addEventListener("DOMMouseScroll",n(),!1)):u.attachEvent("onmousewheel",n()),e.fn.fullpage.moveSlideUp=function(){var i=e(".section.active").prev(".section");i.length>0&&(i.addClass("active").siblings().removeClass("active"),a(i))},e.fn.fullpage.moveSlideDown=function(){var i=e(".section.active").next(".section");i.length>0&&(i.addClass("active").siblings().removeClass("active"),a(i))},e.fn.fullpage.moveToSlide=function(i){var n="";n=isNaN(i)?e('[data-anchor="'+i+'"]'):e(".section").eq(i-1),n.length>0&&(n.addClass("active").siblings().removeClass("active"),a(n))},e(window).on("hashchange",function(){var i=window.location.hash.replace("#","");if(i!=c){var n=e('[data-anchor="'+i+'"]');n.addClass("active").siblings().removeClass("active"),a(n)}}),e(document).keydown(function(i){if(!f)switch(i.which){case 38:e.fn.fullpage.moveSlideUp();break;case 40:e.fn.fullpage.moveSlideDown();break;case 37:e(".section.active").find(".controlArrow.prev").trigger("click");break;case 39:e(".section.active").find(".controlArrow.next").trigger("click");break;default:return}}),e(".section").on("click",".controlArrow",function(){var i=e(this).closest(".section").find(".slides"),n=i.find(".slidesContainer").parent(),a=i.find(".slide.active"),t=null,o=0;a.removeClass("active"),t=e(this).hasClass("prev")?a.prev(".slide"):a.next(".slide"),t.length>0?o=t.position():(t=e(this).hasClass("prev")?a.siblings(":last"):a.siblings(":first"),o=t.position()),n.animate({scrollLeft:o.left},500),t.addClass("active")}),!d){var p;e(window).resize(function(){clearTimeout(p),p=setTimeout(o,500)})}}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5mdWxsUGFnZS5qcyJdLCJuYW1lcyI6WyIkIiwiZm4iLCJmdWxscGFnZSIsIm9wdGlvbnMiLCJNb3VzZVdoZWVsSGFuZGxlciIsImUiLCJ3aW5kb3ciLCJldmVudCIsImRlbHRhIiwiTWF0aCIsIm1heCIsIm1pbiIsIndoZWVsRGVsdGEiLCJkZXRhaWwiLCJpc01vdmluZyIsIm1vdmVTbGlkZURvd24iLCJtb3ZlU2xpZGVVcCIsInNjcm9sbFBhZ2UiLCJlbGVtZW50IiwiZGF0YSIsImxvY2F0aW9uIiwiaGFzaCIsImRlc3QiLCJwb3NpdGlvbiIsImR0b3AiLCJ0b3AiLCJhbmltYXRlIiwic2Nyb2xsaW5nU3BlZWQiLCJlYXNpbmciLCJhbmNob3JMaW5rIiwiYXR0ciIsImxhc3RTY3JvbGxlZERlc3RpbnkiLCJhY3RpdmF0ZU1lbnVFbGVtZW50IiwiYWN0aXZhdGVOYXZEb3RzIiwic2Nyb2xsVG9BbmNob3IiLCJ2YWx1ZSIsInJlcGxhY2UiLCJhZGRDbGFzcyIsInNpYmxpbmdzIiwicmVtb3ZlQ2xhc3MiLCJkb25lUmVzaXppbmciLCJ3aW5kb3dzV2lkdGRoIiwid2lkdGgiLCJ3aW5kb3dzSGVpZ2h0IiwiaGVpZ2h0IiwicmVzaXplIiwicmVzaXplTWUiLCJlYWNoIiwidGhpcyIsImNzcyIsInNsaWRlcyIsImZpbmQiLCJsZW5ndGgiLCJkZXN0aW55UG9zIiwic2Nyb2xsTGVmdCIsImxlZnQiLCJpc1RhYmxldCIsInNjcm9sbFRvcCIsImRpc3BsYXlIZWlnaHQiLCJkaXNwbGF5V2l0ZGgiLCJwcmVmZXJyZWRIZWlnaHQiLCJ3aW5kb3dTaXplIiwicGVyY2VudGFnZSIsIm5ld0ZvbnRTaXplIiwidG9GaXhlZCIsIm5ld1dpZHRoIiwibmFtZSIsIm5hdmlnYXRpb24iLCJtZW51IiwiZXh0ZW5kIiwidmVydGljYWxDZW50ZXJlZCIsInNsaWRlc0NvbG9yIiwiYW5jaG9ycyIsIm5hdmlnYXRpb25Qb3NpdGlvbiIsIm5hdmlnYXRpb25Db2xvciIsImNvbnRyb2xBcnJvd0NvbG9yIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwibWF0Y2giLCJvdmVyZmxvdyIsIndyYXBJbm5lciIsImFwcGVuZCIsIm5hdiIsImluZGV4IiwibnVtU2xpZGVzIiwic2xpZGVyV2lkdGgiLCJzbGlkZVdpZHRoIiwid3JhcEFsbCIsInBhcmVudCIsIndyYXAiLCJhZnRlciIsInByb21pc2UiLCJkb25lIiwic3EiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJhdHRhY2hFdmVudCIsInByZXYiLCJuZXh0IiwibW92ZVRvU2xpZGUiLCJkZXN0aW55IiwiaXNOYU4iLCJlcSIsIm9uIiwia2V5ZG93biIsIndoaWNoIiwidHJpZ2dlciIsImNsb3Nlc3QiLCJzbGlkZXNDb250YWluZXIiLCJjdXJyZW50U2xpZGUiLCJoYXNDbGFzcyIsInJlc2l6ZUlkIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkNBUUEsU0FBVUEsR0FDVEEsRUFBRUMsR0FBR0MsU0FBVyxTQUFTQyxHQW1IeEIsUUFBU0MsS0FDUixNQUFPLFVBQVNDLEdBRWYsR0FBSUEsR0FBSUMsT0FBT0MsT0FBU0YsRUFDcEJHLEVBQVFDLEtBQUtDLE9BQVFELEtBQUtFLElBQUksRUFDL0JOLEVBQUVPLGFBQWVQLEVBQUVRLFFBY3RCLE9BWktDLEtBRUFOLEVBQVEsRUFDWFIsRUFBRUMsR0FBR0MsU0FBU2EsZ0JBS2RmLEVBQUVDLEdBQUdDLFNBQVNjLGdCQUlULEdBcUNULFFBQVNDLEdBQVdDLEdBR25CSixHQUFXLEVBRXlCLG1CQUExQkksR0FBUUMsS0FBSyxVQUN0QkMsU0FBU0MsS0FBT0gsRUFBUUMsS0FBSyxVQUU3QkMsU0FBU0MsS0FBTyxHQUdqQkMsS0FBT0osRUFBUUssV0FDZkMsS0FBZSxNQUFSRixLQUFlQSxLQUFLRyxJQUFNLEtBRWpDekIsRUFBRSxtQkFBbUIwQixTQUNwQkQsS0FBT0QsTUFDTHJCLEVBQVF3QixlQUFnQnhCLEVBQVF5QixPQUFRLFdBQzFD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bnQiOlsiLyoqXHJcbiAqIGZ1bGxQYWdlIDEuMFxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYWx2YXJvdHJpZ28vZnVsbFBhZ2UuanNcclxuICogTUlUIGxpY2Vuc2VkXHJcbiAqXHJcbiAqIENvcHlyaWdodCAoQykgMjAxMyBhbHZhcm90cmlnby5jb20gLSBBIHByb2plY3QgYnkgQWx2YXJvIFRyaWdvXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCQpIHtcclxuXHQkLmZuLmZ1bGxwYWdlID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG5cdFxyXG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xyXG5cclxuXHRcdC8vIENyZWF0ZSBzb21lIGRlZmF1bHRzLCBleHRlbmRpbmcgdGhlbSB3aXRoIGFueSBvcHRpb25zIHRoYXQgd2VyZSBwcm92aWRlZFxyXG5cdFx0dmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7XHJcblx0XHRcdFwidmVydGljYWxDZW50ZXJlZFwiIDogdHJ1ZSxcclxuXHRcdFx0J3Jlc2l6ZScgOiB0cnVlLFxyXG5cdFx0XHQnc2xpZGVzQ29sb3InIDogW10sXHJcblx0XHRcdCdhbmNob3JzJzpbXSxcclxuXHRcdFx0J3Njcm9sbGluZ1NwZWVkJzogNzAwLFxyXG5cdFx0XHQnZWFzaW5nJzogJ2Vhc2VJblF1YXJ0JyxcclxuXHRcdFx0J21lbnUnOiBmYWxzZSxcclxuXHRcdFx0J25hdmlnYXRpb24nOiBmYWxzZSxcclxuXHRcdFx0J25hdmlnYXRpb25Qb3NpdGlvbic6ICdyaWdodCcsXHJcblx0XHRcdCduYXZpZ2F0aW9uQ29sb3InOiAnIzAwMCcsXHJcblx0XHRcdCdjb250cm9sQXJyb3dDb2xvcic6ICcjZmZmJ1xyXG5cdFx0fSwgb3B0aW9ucyk7XHJcblxyXG5cdFx0dmFyIGlzVGFibGV0ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvKGlQaG9uZXxpUG9kfGlQYWR8QW5kcm9pZHxCbGFja0JlcnJ5KS8pOyBcclxuXHJcblx0XHR2YXIgd2luZG93c1dpZHRkaCA9ICQod2luZG93KS53aWR0aCgpO1xyXG5cdFx0dmFyIHdpbmRvd3NIZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCk7XHJcblx0XHR2YXIgaXNNb3ZpbmcgPSBmYWxzZTtcclxuXHRcdFxyXG5cdFx0dmFyIGxhc3RTY3JvbGxlZERlc3Rpbnk7XHJcblx0XHRcclxuXHRcdGlmICghaXNUYWJsZXQpIHtcclxuXHRcdFx0JCgnaHRtbCwgYm9keScpLmNzcyh7XHJcblx0XHRcdFx0J292ZXJmbG93JyA6ICdoaWRkZW4nLFxyXG5cdFx0XHRcdCdoZWlnaHQnIDogJzEwMCUnXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRpZihvcHRpb25zLnZlcnRpY2FsQ2VudGVyZWQpe1xyXG5cdFx0XHQkKCcuc2VjdGlvbicpLmFkZENsYXNzKCd0YWJsZScpO1xyXG5cdFx0XHQkKCcuc2VjdGlvbicpLndyYXBJbm5lcignPGRpdiBjbGFzcz1cInRhYmxlQ2VsbFwiIC8+Jyk7XHJcblx0XHR9XHJcblxyXG5cdFx0JCgnYm9keScpLndyYXBJbm5lcignPGRpdiBpZD1cInN1cGVyQ29udGFpbmVyXCIgLz4nKTtcclxuXHJcblx0XHRcclxuXHRcdC8vY3JlYXRpbmcgdGhlIG5hdmlnYXRpb24gZG90cyBcclxuXHRcdGlmKG9wdGlvbnMubmF2aWdhdGlvbil7XHJcblx0XHRcdCQoJ2JvZHknKS5hcHBlbmQoJzxkaXYgaWQ9XCJmdWxsUGFnZS1uYXZcIj48dWw+PC91bD48L2Rpdj4nKTtcdFxyXG5cdFx0XHR2YXIgbmF2ID0gJCgnI2Z1bGxQYWdlLW5hdicpO1xyXG5cclxuXHRcdFx0bmF2LmNzcygnY29sb3InLCBvcHRpb25zLm5hdmlnYXRpb25Db2xvcik7XHJcblx0XHJcblx0XHJcblx0XHRcdGlmKG9wdGlvbnMubmF2aWdhdGlvblBvc2l0aW9uID09ICdyaWdodCcpe1xyXG5cdFx0XHRcdG5hdi5jc3MoJ3JpZ2h0JywgJzE3cHgnKTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0bmF2LmNzcygnbGVmdCcsICcxN3B4Jyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0JCgnLnNlY3Rpb24nKS5lYWNoKGZ1bmN0aW9uKGluZGV4KSB7XHJcblx0XHRcdHZhciBzbGlkZXMgPSAkKHRoaXMpLmZpbmQoJy5zbGlkZScpO1xyXG5cdFx0XHR2YXIgbnVtU2xpZGVzID0gc2xpZGVzLmxlbmd0aDtcclxuXHJcblx0XHRcdCQodGhpcykuY3NzKCdoZWlnaHQnLCB3aW5kb3dzSGVpZ2h0ICsgJ3B4Jyk7XHJcblx0XHRcdFxyXG5cdFx0XHRpZih0eXBlb2Ygb3B0aW9ucy5zbGlkZXNDb2xvcltpbmRleF0gIT0gJ3VuZGVmaW5lZCcpe1xyXG5cdFx0XHRcdCQodGhpcykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgb3B0aW9ucy5zbGlkZXNDb2xvcltpbmRleF0pO1xyXG5cdFx0XHR9XHRcclxuXHJcblx0XHRcdGlmKHR5cGVvZiBvcHRpb25zLmFuY2hvcnNbaW5kZXhdICE9ICd1bmRlZmluZWQnKXtcdFx0XHRcclxuXHRcdFx0XHQkKHRoaXMpLmF0dHIoJ2RhdGEtYW5jaG9yJywgb3B0aW9ucy5hbmNob3JzW2luZGV4XSk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdGlmKG9wdGlvbnMubmF2aWdhdGlvbil7XHJcblx0XHRcdFx0JCgnI2Z1bGxQYWdlLW5hdicpLmZpbmQoJ3VsJykuYXBwZW5kKCc8bGk+PGEgaHJlZj1cIiMnICsgb3B0aW9ucy5hbmNob3JzW2luZGV4XSArICdcIj48c3Bhbj48L3NwYW4+PC9hPjwvbGk+JylcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gaWYgdGhlcmUncyBhbnkgc2xpZGVcclxuXHRcdFx0aWYgKG51bVNsaWRlcyA+IDApIHtcclxuXHRcdFx0XHR2YXIgc2xpZGVyV2lkdGggPSBudW1TbGlkZXMgKiAxMDA7XHJcblx0XHRcdFx0dmFyIHNsaWRlV2lkdGggPSAxMDAgLyBudW1TbGlkZXM7XHJcblxyXG5cdFx0XHRcdHNsaWRlcy53cmFwQWxsKCc8ZGl2IGNsYXNzPVwic2xpZGVzQ29udGFpbmVyXCIgLz4nKTtcclxuXHRcdFx0XHRzbGlkZXMucGFyZW50KCkud3JhcCgnPGRpdiBjbGFzcz1cInNsaWRlc1wiIC8+Jyk7XHJcblxyXG5cdFx0XHRcdCQodGhpcykuZmluZCgnLnNsaWRlc0NvbnRhaW5lcicpLmNzcygnd2lkdGgnLCBzbGlkZXJXaWR0aCArICclJyk7XHJcblx0XHRcdFx0JCh0aGlzKS5maW5kKCcuc2xpZGVzJykuYWZ0ZXIoJzxkaXYgY2xhc3M9XCJjb250cm9sQXJyb3cgcHJldlwiPjwvZGl2PjxkaXYgY2xhc3M9XCJjb250cm9sQXJyb3cgbmV4dFwiPjwvZGl2PicpO1xyXG5cdFx0XHRcdCQoJy5jb250cm9sQXJyb3cubmV4dCcpLmNzcygnYm9yZGVyLWNvbG9yJywgJ3RyYW5zcGFyZW50IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50ICcrb3B0aW9ucy5jb250cm9sQXJyb3dDb2xvcik7XHJcblx0XHRcdFx0JCgnLmNvbnRyb2xBcnJvdy5wcmV2JykuY3NzKCdib3JkZXItY29sb3InLCAndHJhbnNwYXJlbnQgJysgb3B0aW9ucy5jb250cm9sQXJyb3dDb2xvciArICcgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQnKTtcclxuXHJcblx0XHRcdFx0XHJcblx0XHRcdFx0c2xpZGVzLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHQkKHRoaXMpLmNzcygnd2lkdGgnLCBzbGlkZVdpZHRoICsgJyUnKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHJcblx0XHRcdFxyXG5cdFx0fSkucHJvbWlzZSgpLmRvbmUoZnVuY3Rpb24oKXtcclxuXHRcdFx0c2Nyb2xsVG9BbmNob3IoKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRGV0ZWN0aW5nIG1vdXNld2hlZWwgc2Nyb2xsaW5nXHJcblx0XHQgKiBcclxuXHRcdCAqIGh0dHA6Ly9ibG9ncy5zaXRlcG9pbnRzdGF0aWMuY29tL2V4YW1wbGVzL3RlY2gvbW91c2Utd2hlZWwvaW5kZXguaHRtbFxyXG5cdFx0ICogaHR0cDovL3d3dy5zaXRlcG9pbnQuY29tL2h0bWw1LWphdmFzY3JpcHQtbW91c2Utd2hlZWwvXHJcblx0XHQgKi9cclxuXHRcdHZhciBzcSA9IHt9O1xyXG5cdFx0c3EgPSBkb2N1bWVudDtcclxuXHJcblx0XHRpZiAoc3EuYWRkRXZlbnRMaXN0ZW5lcikge1xyXG5cdFx0XHRzcS5hZGRFdmVudExpc3RlbmVyKFwibW91c2V3aGVlbFwiLCBNb3VzZVdoZWVsSGFuZGxlcigpLCBmYWxzZSk7XHJcblx0XHRcdHNxLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Nb3VzZVNjcm9sbFwiLCBNb3VzZVdoZWVsSGFuZGxlcigpLCBmYWxzZSk7XHJcblx0XHR9IGVsc2VcclxuXHRcdFx0c3EuYXR0YWNoRXZlbnQoXCJvbm1vdXNld2hlZWxcIiwgTW91c2VXaGVlbEhhbmRsZXIoKSk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gTW91c2VXaGVlbEhhbmRsZXIoKSB7XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0Ly8gY3Jvc3MtYnJvd3NlciB3aGVlbCBkZWx0YVxyXG5cdFx0XHRcdHZhciBlID0gd2luZG93LmV2ZW50IHx8IGU7XHJcblx0XHRcdFx0dmFyIGRlbHRhID0gTWF0aC5tYXgoLTEsIE1hdGgubWluKDEsXHJcblx0XHRcdFx0XHRcdChlLndoZWVsRGVsdGEgfHwgLWUuZGV0YWlsKSkpO1xyXG5cclxuXHRcdFx0XHRpZiAoIWlzTW92aW5nKSB7IC8vaWYgdGhlcmVzIGFueSAjXHJcblx0XHRcdFx0XHQvL3Njcm9sbGluZyBkb3duP1xyXG5cdFx0XHRcdFx0aWYgKGRlbHRhIDwgMCkge1xyXG5cdFx0XHRcdFx0XHQkLmZuLmZ1bGxwYWdlLm1vdmVTbGlkZURvd24oKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvL3Njcm9sbGluZyB1cD9cclxuXHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHQkLmZuLmZ1bGxwYWdlLm1vdmVTbGlkZVVwKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQkLmZuLmZ1bGxwYWdlLm1vdmVTbGlkZVVwID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0dmFyIHByZXYgPSAkKCcuc2VjdGlvbi5hY3RpdmUnKS5wcmV2KCcuc2VjdGlvbicpO1xyXG5cdFx0XHRpZiAocHJldi5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0cHJldi5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0c2Nyb2xsUGFnZShwcmV2KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdCQuZm4uZnVsbHBhZ2UubW92ZVNsaWRlRG93biA9IGZ1bmN0aW9uICgpe1xyXG5cdFx0XHR2YXIgbmV4dCA9ICQoJy5zZWN0aW9uLmFjdGl2ZScpLm5leHQoJy5zZWN0aW9uJyk7XHJcblx0XHRcdGlmIChuZXh0Lmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRuZXh0LmFkZENsYXNzKCdhY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0XHRzY3JvbGxQYWdlKG5leHQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdCQuZm4uZnVsbHBhZ2UubW92ZVRvU2xpZGUgPSBmdW5jdGlvbiAoaW5kZXgpe1xyXG5cdFx0XHR2YXIgZGVzdGlueSA9ICcnO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYoaXNOYU4oaW5kZXgpKXtcclxuXHRcdFx0XHRkZXN0aW55ID0gJCgnW2RhdGEtYW5jaG9yPVwiJytpbmRleCsnXCJdJyk7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdGRlc3RpbnkgPSAkKCcuc2VjdGlvbicpLmVxKCAoaW5kZXggLTEpICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChkZXN0aW55Lmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRkZXN0aW55LmFkZENsYXNzKCdhY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0XHRzY3JvbGxQYWdlKGRlc3RpbnkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdFxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBzY3JvbGxQYWdlKGVsZW1lbnQpIHtcclxuXHRcdFx0Ly9wcmV2ZW50aW5nIGZyb20gYWN0aXZhdGluZyB0aGUgTW91c2VXaGVlbEhhbmRsZXIgZXZlbnRcclxuXHRcdFx0Ly9tb3JlIHRoYW4gb25jZSBpZiB0aGUgcGFnZSBpcyBzY3JvbGxpbmdcclxuXHRcdFx0aXNNb3ZpbmcgPSB0cnVlO1xyXG5cclxuXHRcdFx0aWYodHlwZW9mIGVsZW1lbnQuZGF0YSgnYW5jaG9yJykgIT0gJ3VuZGVmaW5lZCcpe1xyXG5cdFx0XHRcdGxvY2F0aW9uLmhhc2ggPSBlbGVtZW50LmRhdGEoJ2FuY2hvcicpO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRsb2NhdGlvbi5oYXNoID0gJyc7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdGRlc3QgPSBlbGVtZW50LnBvc2l0aW9uKCk7XHJcblx0XHRcdGR0b3AgPSBkZXN0ICE9IG51bGwgPyBkZXN0LnRvcCA6IG51bGw7XHJcblx0XHJcblx0XHRcdCQoJyNzdXBlckNvbnRhaW5lcicpLmFuaW1hdGUoe1xyXG5cdFx0XHRcdHRvcCA6IC1kdG9wXHJcblx0XHRcdH0sIG9wdGlvbnMuc2Nyb2xsaW5nU3BlZWQsIG9wdGlvbnMuZWFzaW5nLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRpc01vdmluZyA9IGZhbHNlO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdHZhciBhbmNob3JMaW5rICA9IGVsZW1lbnQuYXR0cignZGF0YS1hbmNob3InKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vZmxhZyB0byBhdm9pZCBjYWxsaW5nbiBgc2Nyb2xsUGFnZSgpYCB0d2ljZSBpbiBjYXNlIG9mIHVzaW5nIGFuY2hvciBsaW5rc1xyXG5cdFx0XHRsYXN0U2Nyb2xsZWREZXN0aW55ID0gYW5jaG9yTGluaztcclxuXHJcblx0XHRcdGFjdGl2YXRlTWVudUVsZW1lbnQoYW5jaG9yTGluayk7XHJcblx0XHRcdGFjdGl2YXRlTmF2RG90cyhhbmNob3JMaW5rKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gc2Nyb2xsVG9BbmNob3IoKXtcclxuXHRcdFx0Ly9nZXR0aW5nIHRoZSBhbmNob3IgbGluayBpbiB0aGUgVVJMIGFuZCBkZWxldGluZyB0aGUgYCNgXHJcblx0XHRcdHZhciB2YWx1ZSA9ICB3aW5kb3cubG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJywgJycpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0aWYodmFsdWUpeyAgLy9pZiB0aGVyZXMgYW55ICNcclxuXHRcdFx0XHJcblx0XHRcdFx0dmFyIGVsZW1lbnQgPSAkKCdbZGF0YS1hbmNob3I9XCInK3ZhbHVlKydcIl0nKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRlbGVtZW50LmFkZENsYXNzKCdhY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0XHQvL3VwZGF0aW5nIHRoZSBhcnJheSBwb3NpdGlvbnMuLi5cclxuXHRcdFx0XHRzY3JvbGxQYWdlKGVsZW1lbnQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly9kZXRlY3RpbmcgYW55IGNoYW5nZSBvbiB0aGUgVVJMIHRvIHNjcm9sbCB0byB0aGUgZ2l2ZW4gYW5jaG9yIGxpbmtcclxuXHRcdC8vKGEgd2F5IHRvIGRldGVjdCBiYWNrIGhpc3RvcnkgYnV0dG9uIGFzIHdlIHBsYXkgd2l0aCB0aGUgaGFzaGVzIG9uIHRoZSBVUkwpXHJcblx0XHQkKHdpbmRvdykub24oJ2hhc2hjaGFuZ2UnLGZ1bmN0aW9uKCl7XHJcblx0XHRcdHZhciB2YWx1ZSA9ICB3aW5kb3cubG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJywgJycpO1xyXG5cdFx0XHRcclxuXHRcdFx0LyppbiBvcmRlciB0byBjYWxsIHNjcm9sbHBhZ2UoKSBvbmx5IG9uY2UgZm9yIGVhY2ggZGVzdGluYXRpb24gYXQgYSB0aW1lXHJcblx0XHRcdEl0IGlzIGNhbGxlZCB0d2ljZSBmb3IgZWFjaCBzY3JvbGwgb3RoZXJ3aXNlLCBhcyBpbiBjYXNlIG9mIHVzaW5nIGFuY2hvcmxpbmtzIGBoYXNoQ2hhbmdlYCBcclxuXHRcdFx0ZXZlbnQgaXMgZmlyZWQgb24gZXZlcnkgc2Nyb2xsIHRvby4qL1xyXG5cdFx0XHRpZih2YWx1ZSAhPSBsYXN0U2Nyb2xsZWREZXN0aW55KXtcclxuXHRcdFx0XHR2YXIgZWxlbWVudCA9ICQoJ1tkYXRhLWFuY2hvcj1cIicrdmFsdWUrJ1wiXScpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGVsZW1lbnQuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdHNjcm9sbFBhZ2UoZWxlbWVudCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBTbGlkaW5nIHdpdGggYXJyb3cga2V5cywgYm90aCwgdmVydGljYWwgYW5kIGhvcml6b250YWxcclxuXHRcdCAqL1xyXG5cdFx0JChkb2N1bWVudCkua2V5ZG93bihmdW5jdGlvbihlKSB7XHJcblx0XHRcdC8vTW92aW5nIHRoZSBtaWFuIHBhZ2Ugd2l0aCB0aGUga2V5Ym9hcmQgYXJyb3dzXHJcblx0XHRcdGlmICghaXNNb3ZpbmcpIHtcclxuXHRcdFx0XHRzd2l0Y2ggKGUud2hpY2gpIHtcclxuXHRcdFx0XHQvL3VwXHJcblx0XHRcdFx0Y2FzZSAzODpcclxuXHRcdFx0XHRcdCQuZm4uZnVsbHBhZ2UubW92ZVNsaWRlVXAoKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHQvL2Rvd25cclxuXHRcdFx0XHRjYXNlIDQwOlxyXG5cdFx0XHRcdFx0JC5mbi5mdWxscGFnZS5tb3ZlU2xpZGVEb3duKCk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Ly9sZWZ0XHJcblx0XHRcdFx0Y2FzZSAzNzpcclxuXHRcdFx0XHRcdCQoJy5zZWN0aW9uLmFjdGl2ZScpLmZpbmQoJy5jb250cm9sQXJyb3cucHJldicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Ly9yaWdodFxyXG5cdFx0XHRcdGNhc2UgMzk6XHJcblx0XHRcdFx0XHQkKCcuc2VjdGlvbi5hY3RpdmUnKS5maW5kKCcuY29udHJvbEFycm93Lm5leHQnKS50cmlnZ2VyKCdjbGljaycpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHRyZXR1cm47IC8vIGV4aXQgdGhpcyBoYW5kbGVyIGZvciBvdGhlciBrZXlzXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNjcm9sbGluZyBob3Jpem9udGFsbHkgd2hlbiBjbGlja2luZyBvbiB0aGUgc2xpZGVyIGNvbnRyb2xzLlxyXG5cdFx0ICovXHJcblx0XHQkKCcuc2VjdGlvbicpLm9uKCdjbGljaycsICcuY29udHJvbEFycm93JywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBzbGlkZXMgPSAkKHRoaXMpLmNsb3Nlc3QoJy5zZWN0aW9uJykuZmluZCgnLnNsaWRlcycpO1xyXG5cdFx0XHR2YXIgc2xpZGVzQ29udGFpbmVyID0gc2xpZGVzLmZpbmQoJy5zbGlkZXNDb250YWluZXInKS5wYXJlbnQoKTtcclxuXHRcdFx0dmFyIGN1cnJlbnRTbGlkZSA9IHNsaWRlcy5maW5kKCcuc2xpZGUuYWN0aXZlJyk7XHJcblx0XHRcdHZhciBkZXN0aW55ID0gbnVsbDtcclxuXHRcdFx0dmFyIGRlc3RpbnlQb3MgPSAwO1xyXG5cclxuXHRcdFx0Y3VycmVudFNsaWRlLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHJcblx0XHRcdGlmICgkKHRoaXMpLmhhc0NsYXNzKCdwcmV2JykpIHtcclxuXHRcdFx0XHRkZXN0aW55ID0gY3VycmVudFNsaWRlLnByZXYoJy5zbGlkZScpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGRlc3RpbnkgPSBjdXJyZW50U2xpZGUubmV4dCgnLnNsaWRlJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vaXMgdGhlcmUgYSBuZXh0IHNsaWRlIGluIHRoZSBzZWN1ZW5jZT9cclxuXHRcdFx0aWYgKGRlc3RpbnkubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdGRlc3RpbnlQb3MgPSBkZXN0aW55LnBvc2l0aW9uKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vdG8gdGhlIGxhc3RcclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0aWYgKCQodGhpcykuaGFzQ2xhc3MoJ3ByZXYnKSkge1xyXG5cdFx0XHRcdFx0ZGVzdGlueSA9IGN1cnJlbnRTbGlkZS5zaWJsaW5ncygnOmxhc3QnKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0ZGVzdGlueSA9IGN1cnJlbnRTbGlkZS5zaWJsaW5ncygnOmZpcnN0Jyk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRkZXN0aW55UG9zID0gZGVzdGlueS5wb3NpdGlvbigpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRzbGlkZXNDb250YWluZXIuYW5pbWF0ZSh7XHJcblx0XHRcdFx0c2Nyb2xsTGVmdCA6IGRlc3RpbnlQb3MubGVmdFxyXG5cdFx0XHR9LCA1MDApO1xyXG5cclxuXHRcdFx0ZGVzdGlueS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRpZiAoIWlzVGFibGV0KSB7XHJcblx0XHRcdHZhciByZXNpemVJZDtcclxuXHJcblx0XHRcdC8vd2hlbiByZXNpemluZyB0aGUgc2l0ZSwgd2UgYWRqdXN0IHRoZSBoZWlnaHRzIG9mIHRoZSBzZWN0aW9uc1xyXG5cdFx0XHQkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdFx0XHQvL2luIG9yZGVyIHRvIGNhbGwgdGhlIGZ1bmN0aW9ucyBvbmx5IHdoZW4gdGhlIHJlc2l6ZSBpcyBmaW5pc2hlZFxyXG5cdFx0XHRcdC8vaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80Mjk4NjEyL2pxdWVyeS1ob3ctdG8tY2FsbC1yZXNpemUtZXZlbnQtb25seS1vbmNlLWl0cy1maW5pc2hlZC1yZXNpemluZ1xyXG5cdFx0XHRcdGNsZWFyVGltZW91dChyZXNpemVJZCk7XHJcblx0XHRcdFx0cmVzaXplSWQgPSBzZXRUaW1lb3V0KGRvbmVSZXNpemluZywgNTAwKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBXaGVuIHJlc2l6aW5nIGlzIGZpbmlzaGVkLCB3ZSBhZGp1c3QgdGhlIHNsaWRlcyBzaXplcyBhbmQgcG9zaXRpb25zXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIGRvbmVSZXNpemluZygpIHtcclxuXHRcdFx0dmFyIHdpbmRvd3NXaWR0ZGggPSAkKHdpbmRvdykud2lkdGgoKTtcclxuXHRcdFx0dmFyIHdpbmRvd3NIZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCk7XHJcblxyXG5cdFx0XHQvL3RleHQgYW5kIGltYWdlcyByZXNpemluZ1xyXG5cdFx0XHRpZiAob3B0aW9ucy5yZXNpemUpIHtcclxuXHRcdFx0XHRyZXNpemVNZSh3aW5kb3dzSGVpZ2h0LCB3aW5kb3dzV2lkdGRoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0JCgnLnNlY3Rpb24nKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCQodGhpcykuY3NzKCdoZWlnaHQnLCB3aW5kb3dzSGVpZ2h0ICsgJ3B4Jyk7XHJcblxyXG5cdFx0XHRcdC8vYWRqdXN0aW5nIHRoZSBwb3NpdGlvbiBmbyB0aGUgRlVMTCBXSURUSCBzbGlkZXMuLi5cclxuXHRcdFx0XHR2YXIgc2xpZGVzID0gJCh0aGlzKS5maW5kKCcuc2xpZGVzJyk7XHJcblx0XHRcdFx0aWYgKHNsaWRlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHR2YXIgZGVzdGlueVBvcyA9IHNsaWRlcy5maW5kKCcuc2xpZGUuYWN0aXZlJykucG9zaXRpb24oKTtcclxuXHJcblx0XHRcdFx0XHRzbGlkZXMuYW5pbWF0ZSh7XHJcblx0XHRcdFx0XHRcdHNjcm9sbExlZnQgOiBkZXN0aW55UG9zLmxlZnRcclxuXHRcdFx0XHRcdH0sIG9wdGlvbnMuc2Nyb2xsaW5nU3BlZWQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvL2FkanVzdGluZyB0aGUgcG9zaXRpb24gZm9yIHRoZSBjdXJyZW50IHNlY3Rpb25cclxuXHRcdFx0dmFyIGRlc3RpbnlQb3MgPSAkKCcuc2VjdGlvbi5hY3RpdmUnKS5wb3NpdGlvbigpO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKCFpc1RhYmxldCkge1xyXG5cdFx0XHRcdCQoJyNzdXBlckNvbnRhaW5lcicpLmFuaW1hdGUoe1xyXG5cdFx0XHRcdFx0dG9wIDogLWRlc3RpbnlQb3MudG9wXHJcblx0XHRcdFx0fSwgb3B0aW9ucy5zY3JvbGxpbmdTcGVlZCwgb3B0aW9ucy5lYXNpbmcpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcclxuXHRcdFx0XHRcdHNjcm9sbFRvcCA6IGRlc3RpbnlQb3MudG9wXHJcblx0XHRcdFx0fSwgb3B0aW9ucy5zY3JvbGxpbmdTcGVlZCwgb3B0aW9ucy5lYXNpbmcpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXNpemluZyBvZiB0aGUgZm9udCBzaXplIGRlcGVuZGluZyBvbiB0aGUgd2luZG93IHNpemUgYXMgd2VsbCBhcyBzb21lIG9mIHRoZSBpbWFnZXMgb24gdGhlIHNpdGUuXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIHJlc2l6ZU1lKGRpc3BsYXlIZWlnaHQsIGRpc3BsYXlXaXRkaCkge1xyXG5cdFx0XHQvL1N0YW5kYXJkIGhlaWdodCwgZm9yIHdoaWNoIHRoZSBib2R5IGZvbnQgc2l6ZSBpcyBjb3JyZWN0XHJcblx0XHRcdHZhciBwcmVmZXJyZWRIZWlnaHQgPSA4MjU7XHJcblx0XHRcdHZhciB3aW5kb3dTaXplID0gZGlzcGxheUhlaWdodDtcclxuXHJcblx0XHRcdGlmIChkaXNwbGF5SGVpZ2h0IDwgODI1KSB7XHJcblx0XHRcdFx0dmFyIHBlcmNlbnRhZ2UgPSAod2luZG93U2l6ZSAqIDEwMCkgLyBwcmVmZXJyZWRIZWlnaHQ7XHJcblx0XHRcdFx0dmFyIG5ld0ZvbnRTaXplID0gcGVyY2VudGFnZS50b0ZpeGVkKDIpO1xyXG5cclxuXHRcdFx0XHQkKFwiaW1nXCIpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHR2YXIgbmV3V2lkdGggPSAoKDgwICogcGVyY2VudGFnZSkgLyAxMDApLnRvRml4ZWQoMik7XHJcblx0XHRcdFx0XHQkKHRoaXMpLmNzcyhcIndpZHRoXCIsIG5ld1dpZHRoICsgJyUnKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkKFwiaW1nXCIpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHQkKHRoaXMpLmNzcyhcIndpZHRoXCIsICcnKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGRpc3BsYXlIZWlnaHQgPCA4MjUgfHwgZGlzcGxheVdpdGRoIDwgOTAwKSB7XHJcblx0XHRcdFx0aWYgKGRpc3BsYXlXaXRkaCA8IDkwMCkge1xyXG5cdFx0XHRcdFx0d2luZG93U2l6ZSA9IGRpc3BsYXlXaXRkaDtcclxuXHRcdFx0XHRcdHByZWZlcnJlZEhlaWdodCA9IDkwMDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dmFyIHBlcmNlbnRhZ2UgPSAod2luZG93U2l6ZSAqIDEwMCkgLyBwcmVmZXJyZWRIZWlnaHRcclxuXHRcdFx0XHR2YXIgbmV3Rm9udFNpemUgPSBwZXJjZW50YWdlLnRvRml4ZWQoMik7XHJcblxyXG5cdFx0XHRcdCQoXCJib2R5XCIpLmNzcyhcImZvbnQtc2l6ZVwiLCBuZXdGb250U2l6ZSArICclJyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JChcImJvZHlcIikuY3NzKFwiZm9udC1zaXplXCIsICcxMDAlJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBBY3RpdmF0aW5nIHRoZSB3ZWJzaXRlIG5hdmlnYXRpb24gZG90cyBhY2NvcmRpbmcgdG8gdGhlIGdpdmVuIHNsaWRlIG5hbWUuXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlTmF2RG90cyhuYW1lKXtcclxuXHRcdFx0aWYob3B0aW9ucy5uYXZpZ2F0aW9uKXtcclxuXHRcdFx0XHQkKCcjZnVsbFBhZ2UtbmF2JykuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcdFxyXG5cdFx0XHRcdCQoJyNmdWxsUGFnZS1uYXYnKS5maW5kKCdhW2hyZWY9XCIjJyArIG5hbWUgKyAnXCJdJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEFjdGl2YXRpbmcgdGhlIHdlYnNpdGUgbWFpbiBtZW51IGVsZW1lbnRzIGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gc2xpZGUgbmFtZS5cclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGVNZW51RWxlbWVudChuYW1lKXtcclxuXHRcdFx0aWYob3B0aW9ucy5tZW51KXtcclxuXHRcdFx0XHQkKG9wdGlvbnMubWVudSkuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcdFxyXG5cdFx0XHRcdCQob3B0aW9ucy5tZW51KS5maW5kKCdbZGF0YS1tZW51YW5jaG9yPVwiJytuYW1lKydcIl0nKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0fTtcclxuXHRcclxuXHRcdFx0XHJcblx0XHRcdFxyXG5cclxuXHJcbn0pKGpRdWVyeSk7Il19
